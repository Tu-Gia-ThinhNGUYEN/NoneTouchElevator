<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" />

  <title>Elevator None Touch</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="img/favicon.ico" rel="icon">
  <link href="img/apple-touch-icon-precomposed.semty_pakage.svg" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.gstatic.com" rel="preconnect">
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
    rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/quill/quill.snow.css" rel="stylesheet">
  <link href="assets/vendor/quill/quill.bubble.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/simple-datatables/style.css" rel="stylesheet">
  <link href="https://allfont.net/allfont.css?fonts=subway-ticker" rel="stylesheet" type="text/css" />

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

</head>

<!-- <body onload="onloadFunction()"> -->

<body>
  <!-- ======= Header ======= -->
  <header id="header" class="header fixed-top d-flex align-items-center">
    <div class="d-flex align-items-center justify-content-between">
      <a href="index.html" class="logo d-flex align-items-center">
        <img src="img/IconApp.svg" alt="">
        <span class="d-none d-lg-block">| Elevator None Touch</span>
      </a>
    </div><!-- End Logo -->


    <nav class="header-nav ms-auto">
      <ul class="d-flex align-items-center">
        <li class="nav-item dropdown">

          <a class="nav-link nav-icon" href="#" data-bs-toggle="dropdown">
            <i class="bi bi-bell"></i>
            <span class="badge bg-primary-red badge-number spinner-grow text-danger"> </span>
          </a><!-- End Notification Icon -->

          <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow notifications">
            <li class="dropdown-header">
              <span>No notification </span>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>

            <li class="notification-item warningAlarm">
              <i class="bi bi-exclamation-circle text-warning"></i>
              <div>
                <h4>Warning</h4>
                <p class="warningText">no warning</p>
              </div>
            </li>

            <li class="notification-item errorAlarm">
              <i class="bi bi-x-circle text-danger"></i>
              <div>
                <h4>Error</h4>
                <p class="errorText">no error</p>
              </div>
            </li>
          </ul><!-- End Notification Dropdown Items -->

        </li><!-- End Notification Nav -->
        <li class="nav-item dropdown pe-3">
          <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile">
            <li class="dropdown-header">
              <h6>Gia Thinh</h6>
              <span>Administrator</span>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>


            <li>
              <a class="dropdown-item d-flex align-items-center" href="pages-faq.html">
                <i class="bi bi-question-circle"></i>
                <span>Need Help?</span>
              </a>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>

            <li>
              <a class="dropdown-item d-flex align-items-center" id="btn-log-off" href="./Log-in_User.html">
                <i class="bi bi-box-arrow-right "></i>
                <span>Log off</span>
              </a>
            </li>

          </ul><!-- End Profile Dropdown Items -->
        </li><!-- End Profile Nav -->

      </ul>
    </nav><!-- End Icons Navigation -->

  </header><!-- End Header -->


  <main id="main" class="main">

    <div class="pagetitle">
      <h1>Dashboard</h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="index.html">Home</a></li>
          <li class="breadcrumb-item active">Dashboard</li>
        </ol>
      </nav>
    </div><!-- End Page Title -->

    <section class="section dashboard">
      <div class="row">
        <!-- Left side columns -->
        <div class="col-lg">
          <div class="row">
            <!-- Outside -->
            <div class="col-lg-6">
              <div class="card recent-sales overflow-auto">
                <div class="card-body">
                  <h5 class="card-title">Outside<span>| Control Panel</span></h5>
                  <span>Your current floor:</span>
                  <select name="" class="dataTable-selector outside-floor-selector" id="">
                    <option value="G">G</option>
                    <option value="2">2</option>
                    <option value="3A">3A</option>
                    <option value="3B">3B</option>
                  </select>
                  <div class="row">
                    <div class="col justify-content-center" style="position: relative;">
                      <div class=""
                        style="height: 18rem; width: 10rem; position: relative; left: 20%; align-items: center;">
                        <img src="./img/web_floor_display.svg" alt=""
                          style="height: 18rem; position: absolute; left: 0%;">
                        <img src="./img/web_updisplay.svg" class="outside-up-display" alt=""
                          style="height: 2rem; position: absolute; left: 20%; top: 5%; z-index: 100; display: none;">
                        <img src="./img/web_downdisplay.svg" class="outside-down-display" alt=""
                          style="height: 2rem; position: absolute; left: 20%; top: 53%; z-index: 100; display: none;">
                        <h5 class="floor-display" style="font-family: 'Subway Ticker', arial;">3B</h5>
                      </div>
                    </div>
                    <div class="col-4">
                      <div class="row-lg justify-content-center">
                        <div class="col-4" style="height: 9rem; position: relative; top: 0; left: 0;">
                          <img src="./img/web_up_normal.svg" class="outside-button-up-normal elevator-button" alt=""
                            style="position: absolute; left: 0%; top: 3.5rem; height: 5rem;" data-bs-toggle="modal"
                            data-bs-target="#verticalycentered">
                          <img src="./img/web_up_clicked.svg" class="outside-button-up-clicked elevator-button" alt=""
                            style="position: absolute; left: 0%; top: 3.5rem; height: 5rem; display: none;">
                        </div>
                      </div>
                      <div class="row-lg justify-content-center">
                        <div class="col-4" style="height: 9rem; position: relative; left: 0%; top: 0;">
                          <img src="./img/web_down_normal.svg" class="outside-button-down-normal elevator-button" alt=""
                            style="position: absolute; left: 0%; top: 1rem; height: 5rem;" data-bs-toggle="modal"
                            data-bs-target="#verticalycentered">
                          <img src="./img/web_down_clicked.svg" class="outside-button-down-clicked elevator-button"
                            alt="" style="position: absolute; left: 0%; top: 1rem; height: 5rem; display: none;">
                        </div>
                      </div>
                      <!-- Modal -->
                      <div class="modal-verify-window modal fade" id="verticalycentered" tabindex="-1">
                        <div class="modal-dialog modal-dialog-centered">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h5 class="modal-title modal-title-outside">Verify Action</h5>
                              <button type="button" class="btn-close" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                              <span>Please enter the code displayed on the screen next to the elevator button.</span>
                              <br>
                              <div class="row align-items-center justify-content-center">

                                <img src="./img/web_displayHMIview.jpg" alt="" style="max-width: 350px;">
                              </div>
                              <div style="line-height: 1rem;"><br></div>
                              <input type="text" placeholder="Verify code" class="form-control modal-verify-code"
                                style="align-items: center;">
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-secondary modal-cancel-button" data-bs-dismiss="modal">Cancel</button>
                              <button type="button" class="btn btn-danger modal-confirm-button">Confirm</button>
                            </div>
                          </div>
                        </div>
                      </div><!-- End Modal-->
                    </div>
                  </div>
                </div>
              </div>
            </div><!-- Outside -->
            <!-- Inside Cabin -->
            <div class="col-lg-6">
              <div class="card recent-sales overflow-auto">
                <div class="card-body">
                  <h5 class="card-title">Inside Cabin<span>| Control Panel</span></h5>
                  <div style="line-height: 35px;"><br></div>
                  <!-- Cabin button row 1 -->
                  <div class="row justify-content-center">
                    <div class="col-4 justify-content-center align-items-center" class="Cabin-button"
                      style="height: 5rem; position: relative; top: 0; left: 0;">
                      <img src="./img/web_Cabin_3A_normal.svg" alt="" class="Cabin-button-3A-normal elevator-button"
                        style="height: 5rem; position: absolute; top: 0; left: 30%; display: block;"
                        data-bs-toggle="modal" data-bs-target="#verticalycentered-cabin">
                      <img src="./img/web_Cabin_3A_clicked.svg" alt="" class="Cabin-button-3A-clicked elevator-button"
                        style="height: 5rem; position: absolute; top: 0; left: 30%; display: none;">
                    </div>
                    <div class="col-4 justify-content-center align-items-center" class="Cabin-button"
                      style="height: 5rem; position: relative; top: 0; left: 0;">
                      <img src="./img/web_Cabin_3B_normal.svg" alt="" class="Cabin-button-3B-normal elevator-button"
                        style="height: 5rem; position: absolute; top: 0; left: 30%; display: block;"
                        data-bs-toggle="modal" data-bs-target="#verticalycentered-cabin">
                      <img src="./img/web_Cabin_3B_clicked.svg" alt="" class="Cabin-button-3B-clicked elevator-button"
                        style="height: 5rem; position: absolute; top: 0; left: 30%; display: none;">
                    </div>
                    <div style="line-height: 1rem;"><br></div>
                  </div>
                  <!-- End of Cabin button row 1 -->
                  <!-- Cabin button row 2 -->
                  <div class="row justify-content-center">
                    <div class="col-4 justify-content-center align-items-center" class="Cabin-button"
                      style="height: 5rem; position: relative; top: 0; left: 0;">
                      <img src="./img/web_Cabin_G_normal.svg" alt="" class="Cabin-button-G-normal elevator-button"
                        style="height: 5rem; position: absolute; top: 0; left: 30%; display: block;"
                        data-bs-toggle="modal" data-bs-target="#verticalycentered-cabin">
                      <img src="./img/web_Cabin_G_clicked.svg" alt="" class="Cabin-button-G-clicked elevator-button"
                        style="height: 5rem; position: absolute; top: 0; left: 30%; display: none;">
                    </div>
                    <div class="col-4 justify-content-center align-items-center" class="Cabin-button"
                      style="height: 5rem; position: relative; top: 0; left: 0;">
                      <img src="./img/web_Cabin_2_normal.svg" alt="" class="Cabin-button-2-normal elevator-button"
                        style="height: 5rem; position: absolute; top: 0; left: 30%; display: block;"
                        data-bs-toggle="modal" data-bs-target="#verticalycentered-cabin">
                      <img src="./img/web_Cabin_2_clicked.svg" alt="" class="Cabin-button-2-clicked elevator-button"
                        style="height: 5rem; position: absolute; top: 0; left: 30%; display: none;">
                    </div>
                    <div style="line-height: 1rem;"><br></div>
                  </div>
                  <!-- End of Cabin button row 2 -->
                  <!-- Cabin button row 3 -->
                  <div class="row justify-content-center">
                    <div class="col-4 justify-content-center align-items-center" class="Cabin-button"
                      style="height: 5rem; position: relative; top: 0; left: 0;">
                      <img src="./img/web_Cabin_open_normal.svg" alt="" class="Cabin-button-open-normal elevator-button"
                        style="height: 5rem; position: absolute; top: 0; left: 30%; display: block;"
                        data-bs-toggle="modal" data-bs-target="#verticalycentered-cabin">
                      <img src="./img/web_Cabin_open_clicked.svg" alt=""
                        class="Cabin-button-open-clicked elevator-button"
                        style="height: 5rem; position: absolute; top: 0; left: 30%; display: none;">
                    </div>
                    <div class="col-4 justify-content-center align-items-center" class="Cabin-button"
                      style="height: 5rem; position: relative; top: 0; left: 0;">
                      <img src="./img/web_Cabin_close_normal.svg" alt=""
                        class="Cabin-button-close-normal elevator-button"
                        style="height: 5rem; position: absolute; top: 0; left: 30%; display: block;"
                        data-bs-toggle="modal" data-bs-target="#verticalycentered-cabin">
                      <img src="./img/web_Cabin_close_clicked.svg" alt=""
                        class="Cabin-button-close-clicked elevator-button"
                        style="height: 5rem; position: absolute; top: 0; left: 30%; display: none;">
                    </div>
                    <div style="line-height: 1rem;"><br></div>
                  </div>
                  <!-- End of Cabin button row 3 -->
                  <!-- Modal -->
                  <div class="modal-verify-window-cabin modal fade" id="verticalycentered-cabin" tabindex="-1" style="display: none;" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title modal-title-cabin">Verify action</h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          <span>Please enter the code displayed on the screen next to the cabin button panel.</span>
                          <br>
                          <div class="row align-items-center justify-content-center">

                            <img src="./img/web_displayHMIview.jpg" alt="" style="max-width: 350px;">
                          </div>
                          <div style="line-height: 1rem;"><br></div>
                          <input type="text" placeholder="Verify code" class="modal-verify-code-cabin form-control" style="align-items: center;">
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="modal-cancel-cabin btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                          <button type="button" class="modal-confirm-cabin btn btn-danger">Confirm</button>
                        </div>
                      </div>
                    </div>
                  </div><!-- End Modal-->
                </div>
              </div>
            </div><!-- End Inside Cabin -->
          </div>
        </div>
      </div>
    </section>

    <section class="section dashboard">
      <div class="row">
        <!-- Left side columns -->
        <div class="col-lg">
          <div class="row">
            <!-- Map -->
            <div class="col-lg-6">
              <div class="card recent-sales overflow-auto">
                <div class="card-body">
                  <h5 class="card-title">Map<span>| Current Floor</span></h5>
                  <div class="row">
                    <img src="./img/HCMUTE_map.svg" alt="">
                  </div>
                </div>
              </div>
            </div><!-- Map -->
            <!-- Information -->
            <div class="col-lg-6">
              <div class="card recent-sales overflow-auto">
                <div class="card-body">
                  <h5 class="card-title">Information<span>| Brand</span></h5>
                  <div class="row">
                    <img src="./img/HCMUTE_map.svg" alt="">
                  </div>
                </div>
              </div>
            </div><!-- Information -->
          </div>
        </div>
      </div>
    </section>
    <div class="pagetitle">
      <h1>Contact</h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="index.html">Home</a></li>
          <li class="breadcrumb-item active">Contact</li>
        </ol>
      </nav>
    </div><!-- End Page Title -->

    <section class="section dashboard">
      <div class="row">
        <!-- Left side columns -->
        <div class="col-lg">
          <div class="row justify-content-center">
            <!-- Info of Instructor -->
            <div class="card col-md-5">
              <div class="card-body profile-card pt-4 d-flex flex-column align-items-center">
                <img src="./img/ThayPhong.jpg" alt="Profile" class="rounded-circle imageContacts">
                <h2 class="nameContacts intructorContact">PhD. Van-Phong VU</h2>
                <h3 class="jobContacts intructorContact">Instructor - Project Manager</h3>
                <div class="social-links mt-2">
                  <a href="https://www.facebook.com/vu.phong.127" class="facebook"><i class="bi bi-facebook"></i> Vu
                    Phong</a>
                  <br>
                  <a href="tel:+84981479507" class="linkedin"><i class=" bi bi-telephone-fill"></i> +84981479507</a>
                  <br>
                  <a href="https://www.google.com/intl/vi/gmail/about/" class="gmail"><i class="bx bx-mail-send"></i>
                    phongvv@hcmute.edu.vn</a>
                </div>
              </div>
            </div>
            <!-- End of Info Instructor -->
            <div class="col-sm-1"></div>
            <!-- Info of me -->
            <div class="card col-md-5">
              <div class="card-body profile-card pt-4 d-flex flex-column align-items-center">
                <img src="./img/GiaThinh.jpg" alt="Profile" class="rounded-circle imageContacts">
                <h2 class="nameContacts">Tu-Gia-Thinh NGUYEN</h2>
                <h3 class="jobContacts">Full Stack Developer</h3>
                <div class="social-links mt-2">
                  <a href="https://www.facebook.com/NguyenTuGiaThinh/" class="facebook"><i class="bi bi-facebook"></i>
                    Nguyen Tu Gia Thinh</a>
                  <br>
                  <a href="tel:+84363861908" class="linkedin"><i class=" bi bi-telephone-fill"></i> +84363861908</a>
                  <br>
                  <a href="https://www.google.com/intl/vi/gmail/about/" class="gmail"><i class="bx bx-mail-send"></i>
                    19151041@student.hcmute.edu.vn</a>
                </div>
              </div>
            </div>
            <!-- End of Info me -->
          </div>
        </div>
      </div>
    </section>
    <div class="alert alert-success bg-success text-light border-0 alert-dismissible fade show alert-verify-success" role="alert"
      style="display: none; position: fixed; right: 0%; top: 5px; z-index: 10000; width: 259.19px;">
      <span>The action was successful!</span>
      <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    <div class="alert alert-danger bg-danger text-light border-0 alert-dismissible fade show alert-verify-fail" role="alert"
      style="display: none; position: fixed; right: 0%; top: 5px; z-index: 10000; width: 259.19px;">
      <span>The action was fail!</span>
      <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer" class="footer">
    <div class="copyright">
      &copy; Copyright <strong><span>ACIS Lab</span></strong>.
    </div>
    <div class="credits">
      Designed by <a href="https://www.facebook.com/NguyenTuGiaThinh/">Nguyen Tu Gia Thinh</a>
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
      class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/apexcharts/apexcharts.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/chart.js/chart.min.js"></script>
  <script src="assets/vendor/echarts/echarts.min.js"></script>
  <script src="assets/vendor/quill/quill.min.js"></script>
  <script src="assets/vendor/simple-datatables/simple-datatables.js"></script>
  <script src="assets/vendor/tinymce/tinymce.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

  <!---------------------------------------------------------------------------------------------- FIREBASE CONFIGURATION  ------------------------------------------------------------->
  <script type="module">
    /*
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-app.js";
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-database.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyBgTphmEWTWoJ-5-j0R9jF4Z4dENtnr2xQ",
      authDomain: "elevatornonetouch.firebaseapp.com",
      databaseURL: "https://elevatornonetouch-default-rtdb.firebaseio.com",
      projectId: "elevatornonetouch",
      storageBucket: "elevatornonetouch.appspot.com",
      messagingSenderId: "441651373398",
      appId: "1:441651373398:web:1abe6281fb31338bad62f7",
      measurementId: "G-KZ0F1G8CEN"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
  
      import { getDatabase, ref, set, get, child, update, remove, onValue } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-database.js";
  
      const db = getDatabase();
      //------------------------------------------------------------------------------------------------REFERENCES----------------------------------------------------------------
      //Normal button
      const btnNormalUp = document.querySelector('.outside-button-up-normal');
      const btnNormalDown = document.querySelector('.outside-button-down-normal');
      const btnNormal3B = document.querySelector('.Cabin-button-3B-normal');
      const btnNormal3A = document.querySelector('.Cabin-button-3A-normal');
      const btnNormal2 = document.querySelector('.Cabin-button-2-normal');
      const btnNormalG = document.querySelector('.Cabin-button-G-normal');
      const btnNormalClose = document.querySelector('.Cabin-button-close-normal');
      const btnNormalOpen = document.querySelector('.Cabin-button-open-normal');
      // Clicked button
      const btnClickedUp = document.querySelector('.outside-button-up-clicked');
      const btnClickedDown = document.querySelector('.outside-button-down-clicked');
      const btnClicked3B = document.querySelector('.Cabin-button-3B-clicked');
      const btnClicked3A = document.querySelector('.Cabin-button-3A-clicked');
      const btnClicked2 = document.querySelector('.Cabin-button-2-clicked');
      const btnClickedG = document.querySelector('.Cabin-button-G-clicked');
      const btnClickedClose = document.querySelector('.Cabin-button-close-clicked');
      const btnClickedOpen = document.querySelector('.Cabin-button-open-clicked');
      // Display
      const displayUp = document.querySelector('.outside-up-display');
      const displayDown = document.querySelector('.outside-down-display');
      const displayFloor = document.querySelector('.floor-display');
      
      var isOn; //true is ON
      var isOff; //false is OFF
      var isAuto; //true is AUTO
      var isManual; //true is MANUAL
      var statusClick; //true is Enable to click
      var cabinDirectDown; //true is moving down action of cabin
      var cabinDirectUp; //true is moving up action of cabin
      var currentFloor;
      var is2down; //true is Floor 2 call down
      var is2requested; //true is people inside cabin call floor 2
      var is2up; //true is Floor 2 call up
      var is3Adown; //true is Floor 3A call down
      var is3Arequested; //true is people inside cabin call floor 2
      var is3Aup; //true is Floor 3A call up
      var is3Bdown; //true is Floor 3B call down
      var is3Brequested; //true is people inside cabin call floor 3B
      var isCloseRequested; //true is people inside cabin call close door
      var isGrequested; //true is people inside cabin call floor G
      var isGup; //true is Floor G call up
      var isOpenRequested; //true is people inside cabin call open door
  
      //------------------------------------------------------------------------------------------------INSERT DATA FUNCTION--------------------------------
      function InsertData() {
        set(ref(db, "System/"), {
          isOn: false, //true is ON false is OFF
          isManual: false, //true is MANUAL false is AUTO
          isImport: false, //true is IMPORT false is EXPORT
          loadedA1: false, //true is LOADED false is FREE
          loadedA2: false, //true is LOADED false is FREE
          loadedA3: false, //true is LOADED false is FREE
          loadedA4: false, //true is LOADED false is FREE
          loadedA5: false, //true is LOADED false is FREE
          loadedA6: false, //true is LOADED false is FREE
          loadedA7: false, //true is LOADED false is FREE
          loadedA8: false, //true is LOADED false is FREE
          loadedA9: false, //true is LOADED false is FREE
  
          loadedB1: false, //true is LOADED false is FREE
          loadedB2: false, //true is LOADED false is FREE
          loadedB3: false, //true is LOADED false is FREE
          loadedB4: false, //true is LOADED false is FREE
          loadedB5: false, //true is LOADED false is FREE
          loadedB6: false, //true is LOADED false is FREE
          loadedB7: false, //true is LOADED false is FREE
          loadedB8: false, //true is LOADED false is FREE
          loadedB9: false, //true is LOADED false is FREE
        })
          .then(() => {
            alert("data stored successfully");
          })
          .catch((error) => {
            alert("unsuccessfull, error" + error)
          });
      }
      //-----------------------------------------------------------------------------------SELECT DATA FUNCTION--------------------------------
      function SelectData() {
        const dbref = ref(db);
  
        get(child(dbref, "System/")).then((snapshot) => {
          if (snapshot.exists()) {
            var isOn = snapshot.val().TurnOn;
          }
          else {
            alert("No data found");
          }
        })
          .catch((error) => {
            alert("unsuccessfull, error" + error);
          });
      }
      //-----------------------------------------------------------------------------------UPDATE DATA FUNCTION--------------------------------
      function UpdateData() {
        update(ref(db, "System/"), {
          isOn: true
        })
          .then(() => {
            alert("Data updated successfully");
          })
          .catch((error) => {
            alert("Unsuccessfull, error" + error)
          });
      }
      //-----------------------------------------------------------------------------------DELETE DATA FUNCTION--------------------------------
      function DeleteData() {
        remove(ref(db, "System/"), {
          TurnOn: true
        })
          .then(() => {
            alert("Data removed successfully");
          })
          .catch((error) => {
            alert("Unsuccessfull, error" + error)
          });
      }
      //-----------------------------------------------------------------------------------CHANGE BUTTON--------------------------------
      function change3BButton() {
        if (!!+is3Brequested){
          btnNormal3B.style.display = "none";
          btnClicked3B.style.display = "block";
        } else{
          btnNormal3B.style.display = "block";
          btnClicked3B.style.display = "none";
        }
      }
      function change3AButton() {
        if (!!+is3Arequested){
          btnNormal3A.style.display = "none";
          btnClicked3A.style.display = "block";
        } else{
          btnNormal3A.style.display = "block";
          btnClicked3A.style.display = "none";
        }
      }
      function change2Button() {
        if (!!+is2requested){
          btnNormal2.style.display = "none";
          btnClicked2.style.display = "block";
        } else{
          btnNormal2.style.display = "block";
          btnClicked2.style.display = "none";
        }
      }
      function changeGButon() {
        if (!!+isGrequested){
          btnNormalG.style.display = "none";
          btnClickedG.style.display = "block";
        } else{
          btnNormalG.style.display = "block";
          btnClickedG.style.display = "none";
        }
      }
      function changeCloseDoorButton() {
        if (!!+isCloseRequested) {
          btnNormalClose.style.display = "none";
          btnClickedClose.style.display = "block";
        } else {
          btnNormalClose.style.display = "block";
          btnClickedClose.style.display = "none";
        }
      }
      function changeOpenDoorButton() {
        if (!!+isOpenRequested) {
          btnNormalOpen.style.display = "none";
          btnClickedOpen.style.display = "block";
        } else {
          btnNormalOpen.style.display = "block";
          btnClickedOpen.style.display = "none";
        }
      }
      //-----------------------------------------------------------------------------------MY FUNCTION--------------------------------
  
      function UpdateIsOn() {
        if (!(!!+isOn) && (!!+isOff)) {
          update(ref(db, "System/"), {
            statusClick: "1",
            isOn: "1",
            isOff: "0",
          })
            .then(() => {
              alert("Data updated successfully");
            })
            .catch((error) => {
              alert("Unsuccessfull, error" + error)
            });
        }
        else if ((!!+isOn) && !(!!+isOff)) {
          update(ref(db, "System/"), {
            statusClick: "1",
            isOn: "0",
            isOff: "1",
          })
            .then(() => {
              alert("Data updated successfully");
            })
            .catch((error) => {
              alert("Unsuccessfull, error" + error)
            });
        }
      }
      function UpdateIsManual() {
        if (!(!!+isAuto) && (!!+isManual)) {
          update(ref(db, "System/"), {
            statusClick: "1",
            isAuto: "1",
            isManual: "0",
          })
            .then(() => {
              alert("Data updated successfully");
            })
            .catch((error) => {
              alert("Unsuccessfull, error" + error)
            });
        }
        else if ((!!+isAuto) && !(!!+isManual)) {
          update(ref(db, "System/"), {
            statusClick: "1",
            isAuto: "0",
            isManual: "1",
          })
            .then(() => {
              alert("Data updated successfully");
            })
            .catch((error) => {
              alert("Unsuccessfull, error" + error)
            });
        }
      }
      function UpdateIsImport() {
        if (!(!!+isImport) && (!!+isExport)) {
          update(ref(db, "System/"), {
            statusClick: "1",
            isImport: "1",
            isExport: "0",
          })
            .then(() => {
              alert("Data updated successfully");
            })
            .catch((error) => {
              alert("Unsuccessfull, error" + error)
            });
        }
        else if ((!!+isImport) && !(!!+isExport)) {
          update(ref(db, "System/"), {
            statusClick: "1",
            isImport: "0",
            isExport: "1",
          })
            .then(() => {
              alert("Data updated successfully");
            })
            .catch((error) => {
              alert("Unsuccessfull, error" + error)
            });
        }
      }
      function onloadFunction() {
        var chartLoaded = 0;
        var chartFree = 18;
        var chartExpired = 0;
        for (var i = 0; i < 18; i++) {
          if (!!+loadedPositions[i]) {
            chartLoaded++;
            chartFree = 18 - chartLoaded;
          }
        }
        chartChangeValue(chartLoaded, chartFree, chartExpired);
      }
      //-----------------------------------------------------------------------------------READ DATA--------------------------------
      const SystemRef = ref(db, 'System/');
  
      onValue(SystemRef, (snapshot) => {
        isOn = snapshot.val().isOn;
        isOff = snapshot.val().isOff;
        isAuto = snapshot.val().isAuto;
        isManual = snapshot.val().isManual;
        isImport = snapshot.val().isImport;
        isExport = snapshot.val().isExport;
        statusClick = snapshot.val().statusClick;
        cabinDirectDown = snapshot.val().cabinDirectDown; //true is moving down action of cabin
        cabinDirectUp = snapshot.val().cabinDirectUp; //true is moving up action of cabin
        currentFloor = snapshot.val().currentFloor;
        is2down = snapshot.val().is2down; //true is Floor 2 call down
        is2requested = snapshot.val().is2requested; //true is people inside cabin call floor 2
        is2up = snapshot.val().is2up; //true is Floor 2 call up
        is3Adown = snapshot.val().is3Adown; //true is Floor 3A call down
        is3Arequested = snapshot.val().is3Arequested; //true is people inside cabin call floor 2
        is3Aup = snapshot.val().is3Aup; //true is Floor 3A call up
        is3Bdown = snapshot.val().is3Bdown; //true is Floor 3B call down
        is3Brequested = snapshot.val().is3Brequested; //true is people inside cabin call floor 3B
        isCloseRequested = snapshot.val().isCloseRequested; //true is people inside cabin call close door
        isGrequested = snapshot.val().isGrequested; //true is people inside cabin call floor G
        isGup = snapshot.val().isGup; //true is Floor G call up
        isOpenRequested = snapshot.val().isOpenRequested; //true is people inside cabin call open door
        change3BButton();
        change3AButton();
        change2Button();
        changeGButon();
        changeCloseDoorButton();
        changeOpenDoorButton();
      });
  
      // const month = ["January","February","March","April","May","June","July","August","September","October","November","December"];
      // const d = new Date();
      // function GetAllDataOnce() {
      //   const WarehouseRef = ref(db, 'Warehouse/2022/May/12/');
      //   var dataWarehouse;
      //   get(child(WarehouseRef)).then((snapshot)=>{
      //     var warehouse = [];
  
      //     snapshot.forEach((childSnapshot)=>{
      //       warehouse.push(childSnapshot.val());
      //     });
      //   });
      // }
      //window.onload = GetAllDataOnce;
      //-----------------------------------------------------------------------------------Assign Events--------------------------------
      btnTurnOnOff.addEventListener('click', UpdateIsOn);
      btnControlMode.addEventListener('click', UpdateIsManual);
      btnOperationMode.addEventListener('click', UpdateIsImport);
      for (var i = 0; i < 9; i++) {
        boxPositions[i].addEventListener('click', () => {
          modalPosition.textContent = "A" + String(i + 1);
          if (!!+loadedPositions[i]) {
            modalBarcode.textContent = barcodePositions[i];
            modalProduct.textContent = "None";
            modalTimeImport.textContent = "None";
          } else {
            modalBarcode.textContent = "None";
            modalProduct.textContent = "None";
            modalTimeImport.textContent = "None";
          }
        });
      }
      for (var i = 9; i < 17; i++) {
        boxPositions[i].addEventListener('click', () => {
          modalPosition.textContent = "B" + String(i - 8);
          if (!!+loadedPositions[i]) {
            modalBarcode.textContent = barcodePositions[i];
            modalProduct.textContent = "None";
            modalTimeImport.textContent = "None";
          } else {
            modalBarcode.textContent = "None";
            modalProduct.textContent = "None";
            modalTimeImport.textContent = "None";
          }
        });
      }
      */
  </script>
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyBgTphmEWTWoJ-5-j0R9jF4Z4dENtnr2xQ",
      authDomain: "elevatornonetouch.firebaseapp.com",
      databaseURL: "https://elevatornonetouch-default-rtdb.firebaseio.com",
      projectId: "elevatornonetouch",
      storageBucket: "elevatornonetouch.appspot.com",
      messagingSenderId: "441651373398",
      appId: "1:441651373398:web:1abe6281fb31338bad62f7",
      measurementId: "G-KZ0F1G8CEN"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);

    import { getDatabase, ref, set, get, child, update, remove, onValue }
      from "https://www.gstatic.com/firebasejs/9.13.0/firebase-database.js";

    const db = getDatabase();

    //--------------------------------------------------------------------------------------------------------References---------
    //Normal button
    const btnNormalUp = document.querySelector('.outside-button-up-normal');
    const btnNormalDown = document.querySelector('.outside-button-down-normal');
    const btnNormal3B = document.querySelector('.Cabin-button-3B-normal');
    const btnNormal3A = document.querySelector('.Cabin-button-3A-normal');
    const btnNormal2 = document.querySelector('.Cabin-button-2-normal');
    const btnNormalG = document.querySelector('.Cabin-button-G-normal');
    const btnNormalClose = document.querySelector('.Cabin-button-close-normal');
    const btnNormalOpen = document.querySelector('.Cabin-button-open-normal');
    // Clicked button
    const btnClickedUp = document.querySelector('.outside-button-up-clicked');
    const btnClickedDown = document.querySelector('.outside-button-down-clicked');
    const btnClicked3B = document.querySelector('.Cabin-button-3B-clicked');
    const btnClicked3A = document.querySelector('.Cabin-button-3A-clicked');
    const btnClicked2 = document.querySelector('.Cabin-button-2-clicked');
    const btnClickedG = document.querySelector('.Cabin-button-G-clicked');
    const btnClickedClose = document.querySelector('.Cabin-button-close-clicked');
    const btnClickedOpen = document.querySelector('.Cabin-button-open-clicked');
    // Display
    const displayUp = document.querySelector('.outside-up-display');
    const displayDown = document.querySelector('.outside-down-display');
    const displayFloor = document.querySelector('.floor-display');
    const selectCurrentFloor = document.querySelector('.outside-floor-selector');
    // Modal
    const btnCancel = document.querySelector('.modal-cancel-button');
    const btnConfirm = document.querySelector('.modal-confirm-button');
    const inputVerifyCode = document.querySelector('.modal-verify-code');
    const modelWindow = document.querySelector('.modal-verify-window');

    const btnCancelCabin = document.querySelector('.modal-cancel-cabin');
    const btnConfirmCabin = document.querySelector('.modal-confirm-cabin');
    const inputVerifyCodeCabin = document.querySelector('.modal-verify-code-cabin');
    const modelWindowCabin = document.querySelector('.modal-verify-window-cabin');

    const titleModalOutside = document.querySelector('.modal-title-cabin');
    const titleModalCabin = document.querySelector('.modal-title-outside')
    // Alert
    const alertSuccess = document.querySelector('.alert-verify-success');
    const alertFail = document.querySelector('.alert-verify-fail');

    var isOn; //true is ON
    var isOff; //false is OFF
    var isAuto; //true is AUTO
    var isManual; //true is MANUAL
    var statusClick; //true is Enable to click
    var cabinDirectDown; //true is moving down action of cabin
    var cabinDirectUp; //true is moving up action of cabin
    var currentFloor;
    var is2down; //true is Floor 2 call down
    var is2requested; //true is people inside cabin call floor 2
    var is2up; //true is Floor 2 call up
    var is3Adown; //true is Floor 3A call down
    var is3Arequested; //true is people inside cabin call floor 2
    var is3Aup; //true is Floor 3A call up
    var is3Bdown; //true is Floor 3B call down
    var is3Brequested; //true is people inside cabin call floor 3B
    var isCloseRequested; //true is people inside cabin call close door
    var isGrequested; //true is people inside cabin call floor G
    var isGup; //true is Floor G call up
    var isOpenRequested; //true is people inside cabin call open door
    //Verify Modal display
    var statusUp;
    var statusDown;
    var status3B;
    var status3A;
    var status2;
    var statusG;
    var statusClose;
    var statusOpen;
    var NodeCode;
    var NodeCodeCabin;
    //--------------------------------------------------------------------------------------------------------Change Button Function---------
    function change3BButton() {
      if (!!+is3Brequested) {
        btnNormal3B.style.display = "none";
        btnClicked3B.style.display = "block";
      } else {
        btnNormal3B.style.display = "block";
        btnClicked3B.style.display = "none";
      }
    }
    function change3AButton() {
      if (!!+is3Arequested) {
        btnNormal3A.style.display = "none";
        btnClicked3A.style.display = "block";
      } else {
        btnNormal3A.style.display = "block";
        btnClicked3A.style.display = "none";
      }
    }
    function change2Button() {
      if (!!+is2requested) {
        btnNormal2.style.display = "none";
        btnClicked2.style.display = "block";
      } else {
        btnNormal2.style.display = "block";
        btnClicked2.style.display = "none";
      }
    }
    function changeGButton() {
      if (!!+isGrequested) {
        btnNormalG.style.display = "none";
        btnClickedG.style.display = "block";
      } else {
        btnNormalG.style.display = "block";
        btnClickedG.style.display = "none";
      }
    }
    function changeCloseDoorButton() {
      if (!!+isCloseRequested) {
        btnNormalClose.style.display = "none";
        btnClickedClose.style.display = "block";
      } else {
        btnNormalClose.style.display = "block";
        btnClickedClose.style.display = "none";
      }
    }
    function changeOpenDoorButton() {
      if (!!+isOpenRequested) {
        btnNormalOpen.style.display = "none";
        btnClickedOpen.style.display = "block";
      } else {
        btnNormalOpen.style.display = "block";
        btnClickedOpen.style.display = "none";
      }
    }
    function changeUpButton(value) {
      if (!!+value) {
        btnNormalUp.style.display = "none";
        btnClickedUp.style.display = "block";
      } else {
        btnNormalUp.style.display = "block";
        btnClickedUp.style.display = "none";
      }
    }
    function changeDownButton(value) {
      if (!!+value) {
        btnNormalDown.style.display = "none";
        btnClickedDown.style.display = "block";
      } else {
        btnNormalDown.style.display = "block";
        btnClickedDown.style.display = "none";
      }
    }
    function changeFloorCurrent(value) {
      switch (value) {
        case 0:
          displayFloor.textContent = "OF";
          break;
        case 1:
          displayFloor.textContent = "G";
          break;
        case 2:
          displayFloor.textContent = "2";
          break;
        case 3:
          displayFloor.textContent = "3A";
          break;
        case 4:
          displayFloor.textContent = "3B";
          break;
        case 10:
          displayFloor.textContent = "Ma";
          break;
        default:
          displayFloor.textContent = "Er";
          break;
      }
    }
    function changeUpDownButton() {
      switch (selectCurrentFloor.value) {
        case "G":
          btnNormalDown.style.display = "none";
          btnNormalUp.style.display = "block";
          changeUpButton(isGup);
          break;
        case "2":
          btnNormalDown.style.display = "block";
          btnNormalUp.style.display = "block";
          changeUpButton(is2up);
          changeDownButton(is2down);
          break;
        case "3A":
          btnNormalDown.style.display = "block";
          btnNormalUp.style.display = "block";
          changeUpButton(is3Aup);
          changeDownButton(is3Adown);
          break;
        case "3B":
          btnNormalDown.style.display = "block";
          btnNormalUp.style.display = "none";
          changeDownButton(is3Bdown);
          break;
      }
    }
    function changeUpDownDisplay() {
      if (!!+cabinDirectUp) {
        displayUp.style.display = "block";
        displayDown.style.display = "none";
      } else if(!!+cabinDirectDown) {
        displayUp.style.display = "none";
        displayDown.style.display = "block";
      }else{
        displayUp.style.display = "none";
        displayDown.style.display = "none";
      }
    }
    //--------------------------------------------------------------------------------------------------------Call Button Function-------
    function readNodeCode()
    {
      const dbref = ref(db);
        get(child(dbref, "Verify/")).then((snapshot) => {
          if (snapshot.exists()) {
            switch (selectCurrentFloor.value) {
              case "G":
                NodeCode = snapshot.val().NodeCodeG;
                break;
              case "2":
                NodeCode = snapshot.val().NodeCode2;
                break;
              case "3A":
                NodeCode = snapshot.val().NodeCode3A;
                break;
              case "3B":
                NodeCode = snapshot.val().NodeCode3B;
                break;
              }
            }
            else {
              alert("No data found");
            }
          })
          .catch((error) => {
            alert("unsuccessfull, error" + error);
          });
    }
    function readNodeCodeCabin()
    {
      const dbref = ref(db);
        get(child(dbref, "Verify/")).then((snapshot) => {
          if (snapshot.exists()) {
            NodeCodeCabin = snapshot.val().NodeCodeCabin;
          }
          else {
            alert("No data found");
          }
        })
          .catch((error) => {
            alert("unsuccessfull, error" + error);
          });
    }
    function callUpButton()
    {
      titleModalOutside.textContent = "Verify Call Up Action";
      switch (selectCurrentFloor.value) {
        case "G":
          update(ref(db, "Requested/"), {CallGup: "1"});
          break;
        case "2":
          update(ref(db, "Requested/"), {Call2up: "1"});
          break;
        case "3A":
          update(ref(db, "Requested/"), {Call3Aup: "1"});
          break;
      }
      statusUp = 1;
      statusDown = 0;
      readNodeCode();
    }
    function callDownButton()
    {
      titleModalOutside.textContent = "Verify Call Down Action";
      switch (selectCurrentFloor.value) {
        case "2":
          update(ref(db, "Requested/"), {Call2down: "1"});
          break;
        case "3A":
          update(ref(db, "Requested/"), {Call3Adown: "1"});
          break;
        case "3B":
          update(ref(db, "Requested/"), {Call3Bdown: "1"});
          break;
      }
      statusUp = 0;
      statusDown = 1;
      readNodeCode();
    }
    function cancelUpButton()
    {
      switch (selectCurrentFloor.value) {
        case "G":
          update(ref(db, "Requested/"), {CallGup: "0"});
          break;
        case "2":
          update(ref(db, "Requested/"), {Call2up: "0"});
          break;
        case "3A":
          update(ref(db, "Requested/"), {Call3Aup: "0"});
          break;
      }
      statusUp = 0;
      statusDown = 0;
    }
    function cancelDownButton()
    {
      switch (selectCurrentFloor.value) {
        case "2":
          update(ref(db, "Requested/"), {Call2down: "0"});
          break;
        case "3A":
          update(ref(db, "Requested/"), {Call3Adown: "0"});
          break;
        case "3B":
          update(ref(db, "Requested/"), {Call3Bdown: "0"});
          break;
      }
      statusUp = 0;
      statusDown = 0;
    }
    function verifyCode()
    {
        if (NodeCode == inputVerifyCode.value)
        {
          alert("Call successfully!");
          btnCancel.click();
          alertSuccess.style.display = "block";
          alertFail.style.display = "none";
        }else{
          alertSuccess.style.display = "none";
          alertFail.style.display = "block";
        }
        switch (selectCurrentFloor.value) {
        case "G":
          update(ref(db, "Requested/"), {WebCodeG: inputVerifyCode.value});
          break;
        case "2":
          update(ref(db, "Requested/"), {WebCode2: inputVerifyCode.value});
          break;
        case "3A":
          update(ref(db, "Requested/"), {WebCode3A: inputVerifyCode.value});
          break;
        case "3B":
          update(ref(db, "Requested/"), {WebCode3B: inputVerifyCode.value});
          break;
      }
    }
    function call3BButton()
    {
      titleModalCabin.textContent = "Verify Call 3B Action";
      update(ref(db, "Requested/"), {Call3Brequested: "1"});
      status3B = 1;
      readNodeCodeCabin();
    }
    function call3AButton()
    {
      titleModalCabin.textContent = "Verify Call 3A Action";
      update(ref(db, "Requested/"), {Call3Arequested: "1"});
      status3A = 1;
      readNodeCodeCabin();
    }
    function call2Button()
    {
      titleModalCabin.textContent = "Verify Call 2 Action";
      update(ref(db, "Requested/"), {Call2requested: "1"});
      status2 = 1;
      readNodeCodeCabin();
    }
    function callGButton()
    {
      titleModalCabin.textContent = "Verify Call G Action";
      update(ref(db, "Requested/"), {CallGrequested: "1"});
      statusG = 1;
      readNodeCodeCabin();
    }
    function callCloseButton()
    {
      titleModalCabin.textContent = "Verify Call Close Action";
      update(ref(db, "Requested/"), {CallCloseRequested: "1"});
      statusClose = 1;
      readNodeCodeCabin();
    }
    function callOpenButton()
    {
      titleModalCabin.textContent = "Verify Call Open Action";
      update(ref(db, "Requested/"), {CallOpenRequested: "1"});
      statusOpen = 1;
      readNodeCodeCabin();
    }
    function cancel3BButton()
    {
      update(ref(db, "Requested/"), {Call3Brequested: "0"});
      status3B = 0;
    }
    function cancel3AButton()
    {
      update(ref(db, "Requested/"), {Call3Arequested: "0"});
      status3A = 0;
    }
    function cancel2Button()
    {
      update(ref(db, "Requested/"), {Call2requested: "0"});
      status2 = 0;
    }
    function cancelGButton()
    {
      update(ref(db, "Requested/"), {CallGrequested: "0"});
      statusG = 0;
    }
    function cancelCloseButton()
    {
      update(ref(db, "Requested/"), {CallCloseRequested: "0"});
      statusClose = 0;
    }
    function cancelOpenButton()
    {
      update(ref(db, "Requested/"), {CallOpenRequested: "0"});
      statusOpen = 0;
    }
    function verifyCodeCabin()
    {
      console.log(NodeCodeCabin);
      if (NodeCodeCabin == inputVerifyCodeCabin.value)
        {
          alert("Call successfully!");
          btnCancelCabin.click();
          alertSuccess.style.display = "block";
          alertFail.style.display = "none";
        }else{
          alertSuccess.style.display = "none";
          alertFail.style.display = "block";
        }
      update(ref(db, "Requested/"), {WebCodeCabin: inputVerifyCode.value});
    }
    //--------------------------------------------------------------------------------------------------------Read Data Realtime---------
    const SystemRef = ref(db, 'System/');

    onValue(SystemRef, (snapshot) => {
      isOn = snapshot.val().isOn;
      isOff = snapshot.val().isOff;
      isAuto = snapshot.val().isAuto;
      isManual = snapshot.val().isManual;
      statusClick = snapshot.val().statusClick;
      cabinDirectDown = snapshot.val().cabinDirectDown; //true is moving down action of cabin
      cabinDirectUp = snapshot.val().cabinDirectUp; //true is moving up action of cabin
      currentFloor = snapshot.val().currentFloor;
      is2down = snapshot.val().is2down; //true is Floor 2 call down
      is2requested = snapshot.val().is2requested; //true is people inside cabin call floor 2
      is2up = snapshot.val().is2up; //true is Floor 2 call up
      is3Adown = snapshot.val().is3Adown; //true is Floor 3A call down
      is3Arequested = snapshot.val().is3Arequested; //true is people inside cabin call floor 2
      is3Aup = snapshot.val().is3Aup; //true is Floor 3A call up
      is3Bdown = snapshot.val().is3Bdown; //true is Floor 3B call down
      is3Brequested = snapshot.val().is3Brequested; //true is people inside cabin call floor 3B
      isCloseRequested = snapshot.val().isCloseRequested; //true is people inside cabin call close door
      isGrequested = snapshot.val().isGrequested; //true is people inside cabin call floor G
      isGup = snapshot.val().isGup; //true is Floor G call up
      isOpenRequested = snapshot.val().isOpenRequested; //true is people inside cabin call open door
      change3BButton();
      change3AButton();
      change2Button();
      changeGButton();
      changeCloseDoorButton();
      changeOpenDoorButton();
      changeFloorCurrent(currentFloor);
      changeUpDownButton();
      changeUpDownDisplay();
    });
    //--------------------------------------------------------------------------------------------------------Read Data Realtime---------
    //Outside Cabin
    selectCurrentFloor.addEventListener('change', changeUpDownButton);
    btnNormalUp.addEventListener('click', callUpButton);
    btnNormalDown.addEventListener('click', callDownButton);
    btnCancel.addEventListener('click', ()=>{
      if ((!!+statusUp) && !(!!+statusDown))
      {
        cancelUpButton();
      }
      else if(!(!!+statusUp) && (!!+statusDown))
      {
        cancelDownButton();
      }
    });
    var observer = new MutationObserver(function(){
      if(modelWindow.style.display == 'none'){
        if ((!!+statusUp) && !(!!+statusDown))
        {
          cancelUpButton();
        }
        else if(!(!!+statusUp) && (!!+statusDown))
        {
          cancelDownButton();
        }
      }
    });
    observer.observe(modelWindow, { attributes: true, childList: true });
    btnConfirm.addEventListener('click', verifyCode);
    // Inside cabin
    btnNormal3B.addEventListener('click', call3BButton);
    btnNormal3A.addEventListener('click', call3AButton);
    btnNormal2.addEventListener('click', call2Button);
    btnNormalG.addEventListener('click', callGButton);
    btnNormalClose.addEventListener('click', callCloseButton);
    btnNormalOpen.addEventListener('click', callOpenButton);
    btnCancelCabin.addEventListener('click', ()=>{
      if (!!+status3B)
      {
        cancel3BButton();
      }
      if (!!+status3A)
      {
        cancel3AButton();
      }
      if (!!+status2)
      {
        cancel2Button();
      }
      if (!!+statusG)
      {
        cancelGButton();
      }
      if (!!+statusClose)
      {
        cancelCloseButton();
      }
      if (!!+statusOpen)
      {
        cancelOpenButton();
      }
    });
    var observerCabin = new MutationObserver(function(){
      if(modelWindowCabin.style.display == 'none'){
        if (!!+status3B)
      {
        cancel3BButton();
      }
      if (!!+status3A)
      {
        cancel3AButton();
      }
      if (!!+status2)
      {
        cancel2Button();
      }
      if (!!+statusG)
      {
        cancelGButton();
      }
      if (!!+statusClose)
      {
        cancelCloseButton();
      }
      if (!!+statusOpen)
      {
        cancelOpenButton();
      }
      }
    });
    observerCabin.observe(modelWindowCabin, { attributes: true, childList: true });
    btnConfirmCabin.addEventListener('click', verifyCodeCabin);
  </script>
</body>
</html>